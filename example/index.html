<!DOCTYPE HTML>
<html>
<head>
    <script src="../easycanvas.js"></script>
    <style>
    </style>
</head>
<body>

<canvas id="show" width="800" height="800"></canvas>

<script>
    var s = new EC.Stage({el: document.getElementById('show')});

    var b = new EC.Bitmap();
    b.x = 200;
    b.y = 400;
    b.scaleX = b.scaleY = 1;
    b.rotation = 45;
    s.addChild(b);

    var g = new EC.Graphic();
    g.x = 100;
    g.y = -100;
    g.scaleX = g.scaleY = 1.5;
    g.rotation = 15;
    g.beginPath();
    g.rect(0,0,200,200);
    g.closePath();
    g.fill('#ff0000');
    s.addChild(g);


    var m = new EC.Bitmap();
    m.origin(0,0);
    s.mask = m;


    var _img = new Image();
    _img.src = "images/p2.jpg";
    _img.onload = function () {
        b.image = this;

        var _img2 = new Image();
        _img2.src = "images/mask.png";
        _img2.onload = function () {
            m.image = this;
            s.update();
        };
//        s.update();
    };

</script>
</body>
</html>
